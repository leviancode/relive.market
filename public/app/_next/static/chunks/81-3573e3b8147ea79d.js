(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{169:(e,t,n)=>{"use strict";n.d(t,{MJ:()=>m,c5:()=>x});var i=n(2644),r=n(8760),o=n(7632),s=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))c.call(t,n)&&u(e,n,t[n]);return e},h=(e,t)=>{var n={};for(var i in e)l.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))0>t.indexOf(i)&&c.call(e,i)&&(n[i]=e[i]);return n};function p(){return"undefined"!=typeof window}let f=(0,r.createContext)(null),b=null;(0,r.memo)(e=>{var{children:t}=e,n=h(e,["children"]);return p()&&!b&&(b=new o.i$(n)),(0,i.jsx)(f.Provider,{value:b,children:t})});class g extends o.WG{constructor(...e){super(...e),Object.setPrototypeOf(this,g.prototype)}}class w extends g{constructor(...e){super(...e),Object.setPrototypeOf(this,w.prototype)}}function y(){let e=(0,r.useContext)(f),t=(0,r.useCallback)(t=>{e&&(e.uiOptions=t)},[e]);return p()?(!function(e){if(!e)throw new w("You should add <TonConnectUIProvider> on the top of the app to use TonConnect")}(e),[e,t]):[null,()=>{}]}let v="ton-connect-button",m=(0,r.memo)(({className:e,style:t})=>{let[n,o]=y();return(0,r.useEffect)(()=>(o({buttonRootId:v}),()=>o({buttonRootId:null})),[o]),(0,i.jsx)("div",{id:v,className:e,style:d({width:"fit-content"},t)})});function x(){let[e]=y(),[t,n]=(0,r.useState)((null==e?void 0:e.wallet)||null);return(0,r.useEffect)(()=>{if(e)return n(e.wallet),e.onStatusChange(e=>{n(e)})},[e]),t}},727:(e,t,n)=>{!function(e){"use strict";var t,i=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw Error("no PRNG")},o=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=i(),l=i([1]),c=i([56129,1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function b(e,t,n,i){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function g(e,t,n,i,r){var o,s=0;for(o=0;o<r;o++)s|=e[t+o]^n[i+o];return(1&s-1>>>8)-1}function w(e,t,n,i){return g(e,t,n,i,16)}function y(e,t,n,i){return g(e,t,n,i,32)}function v(e,t,n,i){!function(e,t,n,i){for(var r,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,m=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,x=o,_=s,S=a,E=l,R=c,O=u,k=d,C=h,T=p,U=f,A=b,P=g,N=w,j=y,M=v,L=m,I=0;I<20;I+=2)R^=(r=x+N|0)<<7|r>>>25,T^=(r=R+x|0)<<9|r>>>23,N^=(r=T+R|0)<<13|r>>>19,x^=(r=N+T|0)<<18|r>>>14,U^=(r=O+_|0)<<7|r>>>25,j^=(r=U+O|0)<<9|r>>>23,_^=(r=j+U|0)<<13|r>>>19,O^=(r=_+j|0)<<18|r>>>14,M^=(r=A+k|0)<<7|r>>>25,S^=(r=M+A|0)<<9|r>>>23,k^=(r=S+M|0)<<13|r>>>19,A^=(r=k+S|0)<<18|r>>>14,E^=(r=L+P|0)<<7|r>>>25,C^=(r=E+L|0)<<9|r>>>23,P^=(r=C+E|0)<<13|r>>>19,L^=(r=P+C|0)<<18|r>>>14,_^=(r=x+E|0)<<7|r>>>25,S^=(r=_+x|0)<<9|r>>>23,E^=(r=S+_|0)<<13|r>>>19,x^=(r=E+S|0)<<18|r>>>14,k^=(r=O+R|0)<<7|r>>>25,C^=(r=k+O|0)<<9|r>>>23,R^=(r=C+k|0)<<13|r>>>19,O^=(r=R+C|0)<<18|r>>>14,P^=(r=A+U|0)<<7|r>>>25,T^=(r=P+A|0)<<9|r>>>23,U^=(r=T+P|0)<<13|r>>>19,A^=(r=U+T|0)<<18|r>>>14,N^=(r=L+M|0)<<7|r>>>25,j^=(r=N+L|0)<<9|r>>>23,M^=(r=j+N|0)<<13|r>>>19,L^=(r=M+j|0)<<18|r>>>14;x=x+o|0,_=_+s|0,S=S+a|0,E=E+l|0,R=R+c|0,O=O+u|0,k=k+d|0,C=C+h|0,T=T+p|0,U=U+f|0,A=A+b|0,P=P+g|0,N=N+w|0,j=j+y|0,M=M+v|0,L=L+m|0,e[0]=x>>>0&255,e[1]=x>>>8&255,e[2]=x>>>16&255,e[3]=x>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=R>>>0&255,e[17]=R>>>8&255,e[18]=R>>>16&255,e[19]=R>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=U>>>0&255,e[37]=U>>>8&255,e[38]=U>>>16&255,e[39]=U>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=N>>>0&255,e[49]=N>>>8&255,e[50]=N>>>16&255,e[51]=N>>>24&255,e[52]=j>>>0&255,e[53]=j>>>8&255,e[54]=j>>>16&255,e[55]=j>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,n,i)}function m(e,t,n,i){!function(e,t,n,i){for(var r,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,m=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,x=o,_=s,S=a,E=l,R=c,O=u,k=d,C=h,T=p,U=f,A=b,P=g,N=w,j=y,M=v,L=m,I=0;I<20;I+=2)R^=(r=x+N|0)<<7|r>>>25,T^=(r=R+x|0)<<9|r>>>23,N^=(r=T+R|0)<<13|r>>>19,x^=(r=N+T|0)<<18|r>>>14,U^=(r=O+_|0)<<7|r>>>25,j^=(r=U+O|0)<<9|r>>>23,_^=(r=j+U|0)<<13|r>>>19,O^=(r=_+j|0)<<18|r>>>14,M^=(r=A+k|0)<<7|r>>>25,S^=(r=M+A|0)<<9|r>>>23,k^=(r=S+M|0)<<13|r>>>19,A^=(r=k+S|0)<<18|r>>>14,E^=(r=L+P|0)<<7|r>>>25,C^=(r=E+L|0)<<9|r>>>23,P^=(r=C+E|0)<<13|r>>>19,L^=(r=P+C|0)<<18|r>>>14,_^=(r=x+E|0)<<7|r>>>25,S^=(r=_+x|0)<<9|r>>>23,E^=(r=S+_|0)<<13|r>>>19,x^=(r=E+S|0)<<18|r>>>14,k^=(r=O+R|0)<<7|r>>>25,C^=(r=k+O|0)<<9|r>>>23,R^=(r=C+k|0)<<13|r>>>19,O^=(r=R+C|0)<<18|r>>>14,P^=(r=A+U|0)<<7|r>>>25,T^=(r=P+A|0)<<9|r>>>23,U^=(r=T+P|0)<<13|r>>>19,A^=(r=U+T|0)<<18|r>>>14,N^=(r=L+M|0)<<7|r>>>25,j^=(r=N+L|0)<<9|r>>>23,M^=(r=j+N|0)<<13|r>>>19,L^=(r=M+j|0)<<18|r>>>14;e[0]=x>>>0&255,e[1]=x>>>8&255,e[2]=x>>>16&255,e[3]=x>>>24&255,e[4]=O>>>0&255,e[5]=O>>>8&255,e[6]=O>>>16&255,e[7]=O>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=L>>>0&255,e[13]=L>>>8&255,e[14]=L>>>16&255,e[15]=L>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=C>>>0&255,e[21]=C>>>8&255,e[22]=C>>>16&255,e[23]=C>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=U>>>0&255,e[29]=U>>>8&255,e[30]=U>>>16&255,e[31]=U>>>24&255}(e,t,n,i)}var x=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(e,t,n,i,r,o,s){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=o[l];for(;r>=64;){for(v(u,c,s,x),l=0;l<64;l++)e[t+l]=n[i+l]^u[l];for(l=8,a=1;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;r-=64,t+=64,i+=64}if(r>0)for(v(u,c,s,x),l=0;l<r;l++)e[t+l]=n[i+l]^u[l];return 0}function S(e,t,n,i,r){var o,s,a=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=i[s];for(;n>=64;){for(v(l,a,r,x),s=0;s<64;s++)e[t+s]=l[s];for(s=8,o=1;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(v(l,a,r,x),s=0;s<n;s++)e[t+s]=l[s];return 0}function E(e,t,n,i,r){var o=new Uint8Array(32);m(o,i,r,x);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=i[a+16];return S(e,t,n,s,o)}function R(e,t,n,i,r,o,s){var a=new Uint8Array(32);m(a,o,s,x);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=o[c+16];return _(e,t,n,i,r,l,a)}var O=function(e){var t,n,i,r,o,s,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|n<<3)&8191,i=255&e[4]|(255&e[5])<<8,this.r[2]=(n>>>10|i<<6)&7939,r=255&e[6]|(255&e[7])<<8,this.r[3]=(i>>>7|r<<9)&8191,o=255&e[8]|(255&e[9])<<8,this.r[4]=(r>>>4|o<<12)&255,this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=(o>>>14|s<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(s>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,n,i,r,o){var s=new O(o);return s.update(n,i,r),s.finish(e,t),0}function C(e,t,n,i,r,o){var s=new Uint8Array(16);return k(s,0,n,i,r,o),w(e,t,s,0)}function T(e,t,n,i,r){var o;if(n<32)return -1;for(R(e,0,t,0,n,i,r),k(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function U(e,t,n,i,r){var o,s=new Uint8Array(32);if(n<32||(E(s,0,32,i,r),0!==C(t,16,t,32,n-32,s)))return -1;for(R(e,0,t,0,n,i,r),o=0;o<32;o++)e[o]=0;return 0}function A(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function P(e){var t,n,i=1;for(t=0;t<16;t++)i=Math.floor((n=e[t]+i+65535)/65536),e[t]=n-65536*i;e[0]+=i-1+37*(i-1)}function N(e,t,n){for(var i,r=~(n-1),o=0;o<16;o++)i=r&(e[o]^t[o]),e[o]^=i,t[o]^=i}function j(e,t){var n,r,o,s=i(),a=i();for(n=0;n<16;n++)a[n]=t[n];for(P(a),P(a),P(a),r=0;r<2;r++){for(n=1,s[0]=a[0]-65517;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,N(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function M(e,t){var n=new Uint8Array(32),i=new Uint8Array(32);return j(n,e),j(i,t),y(n,0,i,0)}function L(e){var t=new Uint8Array(32);return j(t,e),1&t[0]}function I(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function W(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]+n[i]}function q(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]-n[i]}function D(e,t,n){var i,r,o=0,s=0,a=0,l=0,c=0,u=0,d=0,h=0,p=0,f=0,b=0,g=0,w=0,y=0,v=0,m=0,x=0,_=0,S=0,E=0,R=0,O=0,k=0,C=0,T=0,U=0,A=0,P=0,N=0,j=0,M=0,L=n[0],I=n[1],W=n[2],q=n[3],D=n[4],B=n[5],K=n[6],G=n[7],F=n[8],z=n[9],$=n[10],H=n[11],V=n[12],Y=n[13],J=n[14],Q=n[15];o+=(i=t[0])*L,s+=i*I,a+=i*W,l+=i*q,c+=i*D,u+=i*B,d+=i*K,h+=i*G,p+=i*F,f+=i*z,b+=i*$,g+=i*H,w+=i*V,y+=i*Y,v+=i*J,m+=i*Q,s+=(i=t[1])*L,a+=i*I,l+=i*W,c+=i*q,u+=i*D,d+=i*B,h+=i*K,p+=i*G,f+=i*F,b+=i*z,g+=i*$,w+=i*H,y+=i*V,v+=i*Y,m+=i*J,x+=i*Q,a+=(i=t[2])*L,l+=i*I,c+=i*W,u+=i*q,d+=i*D,h+=i*B,p+=i*K,f+=i*G,b+=i*F,g+=i*z,w+=i*$,y+=i*H,v+=i*V,m+=i*Y,x+=i*J,_+=i*Q,l+=(i=t[3])*L,c+=i*I,u+=i*W,d+=i*q,h+=i*D,p+=i*B,f+=i*K,b+=i*G,g+=i*F,w+=i*z,y+=i*$,v+=i*H,m+=i*V,x+=i*Y,_+=i*J,S+=i*Q,c+=(i=t[4])*L,u+=i*I,d+=i*W,h+=i*q,p+=i*D,f+=i*B,b+=i*K,g+=i*G,w+=i*F,y+=i*z,v+=i*$,m+=i*H,x+=i*V,_+=i*Y,S+=i*J,E+=i*Q,u+=(i=t[5])*L,d+=i*I,h+=i*W,p+=i*q,f+=i*D,b+=i*B,g+=i*K,w+=i*G,y+=i*F,v+=i*z,m+=i*$,x+=i*H,_+=i*V,S+=i*Y,E+=i*J,R+=i*Q,d+=(i=t[6])*L,h+=i*I,p+=i*W,f+=i*q,b+=i*D,g+=i*B,w+=i*K,y+=i*G,v+=i*F,m+=i*z,x+=i*$,_+=i*H,S+=i*V,E+=i*Y,R+=i*J,O+=i*Q,h+=(i=t[7])*L,p+=i*I,f+=i*W,b+=i*q,g+=i*D,w+=i*B,y+=i*K,v+=i*G,m+=i*F,x+=i*z,_+=i*$,S+=i*H,E+=i*V,R+=i*Y,O+=i*J,k+=i*Q,p+=(i=t[8])*L,f+=i*I,b+=i*W,g+=i*q,w+=i*D,y+=i*B,v+=i*K,m+=i*G,x+=i*F,_+=i*z,S+=i*$,E+=i*H,R+=i*V,O+=i*Y,k+=i*J,C+=i*Q,f+=(i=t[9])*L,b+=i*I,g+=i*W,w+=i*q,y+=i*D,v+=i*B,m+=i*K,x+=i*G,_+=i*F,S+=i*z,E+=i*$,R+=i*H,O+=i*V,k+=i*Y,C+=i*J,T+=i*Q,b+=(i=t[10])*L,g+=i*I,w+=i*W,y+=i*q,v+=i*D,m+=i*B,x+=i*K,_+=i*G,S+=i*F,E+=i*z,R+=i*$,O+=i*H,k+=i*V,C+=i*Y,T+=i*J,U+=i*Q,g+=(i=t[11])*L,w+=i*I,y+=i*W,v+=i*q,m+=i*D,x+=i*B,_+=i*K,S+=i*G,E+=i*F,R+=i*z,O+=i*$,k+=i*H,C+=i*V,T+=i*Y,U+=i*J,A+=i*Q,w+=(i=t[12])*L,y+=i*I,v+=i*W,m+=i*q,x+=i*D,_+=i*B,S+=i*K,E+=i*G,R+=i*F,O+=i*z,k+=i*$,C+=i*H,T+=i*V,U+=i*Y,A+=i*J,P+=i*Q,y+=(i=t[13])*L,v+=i*I,m+=i*W,x+=i*q,_+=i*D,S+=i*B,E+=i*K,R+=i*G,O+=i*F,k+=i*z,C+=i*$,T+=i*H,U+=i*V,A+=i*Y,P+=i*J,N+=i*Q,v+=(i=t[14])*L,m+=i*I,x+=i*W,_+=i*q,S+=i*D,E+=i*B,R+=i*K,O+=i*G,k+=i*F,C+=i*z,T+=i*$,U+=i*H,A+=i*V,P+=i*Y,N+=i*J,j+=i*Q,m+=(i=t[15])*L,x+=i*I,_+=i*W,S+=i*q,E+=i*D,R+=i*B,O+=i*K,k+=i*G,C+=i*F,T+=i*z,U+=i*$,A+=i*H,P+=i*V,N+=i*Y,j+=i*J,M+=i*Q,o+=38*x,s+=38*_,a+=38*S,l+=38*E,c+=38*R,u+=38*O,d+=38*k,h+=38*C,p+=38*T,f+=38*U,b+=38*A,g+=38*P,w+=38*N,y+=38*j,v+=38*M,r=Math.floor((i=o+(r=1)+65535)/65536),o=i-65536*r,r=Math.floor((i=s+r+65535)/65536),s=i-65536*r,r=Math.floor((i=a+r+65535)/65536),a=i-65536*r,r=Math.floor((i=l+r+65535)/65536),l=i-65536*r,r=Math.floor((i=c+r+65535)/65536),c=i-65536*r,r=Math.floor((i=u+r+65535)/65536),u=i-65536*r,r=Math.floor((i=d+r+65535)/65536),d=i-65536*r,r=Math.floor((i=h+r+65535)/65536),h=i-65536*r,r=Math.floor((i=p+r+65535)/65536),p=i-65536*r,r=Math.floor((i=f+r+65535)/65536),f=i-65536*r,r=Math.floor((i=b+r+65535)/65536),b=i-65536*r,r=Math.floor((i=g+r+65535)/65536),g=i-65536*r,r=Math.floor((i=w+r+65535)/65536),w=i-65536*r,r=Math.floor((i=y+r+65535)/65536),y=i-65536*r,r=Math.floor((i=v+r+65535)/65536),v=i-65536*r,r=Math.floor((i=m+r+65535)/65536),m=i-65536*r,o+=r-1+37*(r-1),r=Math.floor((i=o+(r=1)+65535)/65536),o=i-65536*r,r=Math.floor((i=s+r+65535)/65536),s=i-65536*r,r=Math.floor((i=a+r+65535)/65536),a=i-65536*r,r=Math.floor((i=l+r+65535)/65536),l=i-65536*r,r=Math.floor((i=c+r+65535)/65536),c=i-65536*r,r=Math.floor((i=u+r+65535)/65536),u=i-65536*r,r=Math.floor((i=d+r+65535)/65536),d=i-65536*r,r=Math.floor((i=h+r+65535)/65536),h=i-65536*r,r=Math.floor((i=p+r+65535)/65536),p=i-65536*r,r=Math.floor((i=f+r+65535)/65536),f=i-65536*r,r=Math.floor((i=b+r+65535)/65536),b=i-65536*r,r=Math.floor((i=g+r+65535)/65536),g=i-65536*r,r=Math.floor((i=w+r+65535)/65536),w=i-65536*r,r=Math.floor((i=y+r+65535)/65536),y=i-65536*r,r=Math.floor((i=v+r+65535)/65536),v=i-65536*r,r=Math.floor((i=m+r+65535)/65536),m=i-65536*r,o+=r-1+37*(r-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=p,e[9]=f,e[10]=b,e[11]=g,e[12]=w,e[13]=y,e[14]=v,e[15]=m}function B(e,t){D(e,t,t)}function K(e,t){var n,r=i();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)B(r,r),2!==n&&4!==n&&D(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function G(e,t){var n,r=i();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)B(r,r),1!==n&&D(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function F(e,t,n){var r,o,s=new Uint8Array(32),a=new Float64Array(80),l=i(),u=i(),d=i(),h=i(),p=i(),f=i();for(o=0;o<31;o++)s[o]=t[o];for(s[31]=127&t[31]|64,s[0]&=248,I(a,n),o=0;o<16;o++)u[o]=a[o],h[o]=l[o]=d[o]=0;for(o=254,l[0]=h[0]=1;o>=0;--o)N(l,u,r=s[o>>>3]>>>(7&o)&1),N(d,h,r),W(p,l,d),q(l,l,d),W(d,u,h),q(u,u,h),B(h,p),B(f,l),D(l,d,l),D(d,u,p),W(p,l,d),q(l,l,d),B(u,l),q(d,h,f),D(l,d,c),W(l,l,h),D(d,d,l),D(l,h,f),D(h,u,a),B(u,p),N(l,u,r),N(d,h,r);for(o=0;o<16;o++)a[o+16]=l[o],a[o+32]=d[o],a[o+48]=u[o],a[o+64]=h[o];var b=a.subarray(32),g=a.subarray(16);return K(b,b),D(g,g,b),j(e,g),0}function z(e,t){return F(e,t,s)}function $(e,t){return r(t,32),z(e,t)}function H(e,t,n){var i=new Uint8Array(32);return F(i,n,t),m(e,o,i,x)}O.prototype.blocks=function(e,t,n){for(var i,r,o,s,a,l,c,u,d,h,p,f,b,g,w,y,v,m,x,_=2048*!this.fin,S=this.h[0],E=this.h[1],R=this.h[2],O=this.h[3],k=this.h[4],C=this.h[5],T=this.h[6],U=this.h[7],A=this.h[8],P=this.h[9],N=this.r[0],j=this.r[1],M=this.r[2],L=this.r[3],I=this.r[4],W=this.r[5],q=this.r[6],D=this.r[7],B=this.r[8],K=this.r[9];n>=16;)S+=8191&(i=255&e[t+0]|(255&e[t+1])<<8),E+=(i>>>13|(r=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,R+=(r>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,O+=(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,k+=(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,C+=a>>>1&8191,T+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,U+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,A+=(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,P+=u>>>5|_,d=(h=(d=0)+S*N+5*K*E+5*B*R+5*D*O+5*q*k)>>>13,h&=8191,h+=5*W*C,h+=5*I*T,h+=5*L*U,h+=5*M*A,h+=5*j*P,d+=h>>>13,h&=8191,d=(p=d+S*j+E*N+5*K*R+5*B*O+5*D*k)>>>13,p&=8191,p+=5*q*C,p+=5*W*T,p+=5*I*U,p+=5*L*A,p+=5*M*P,d+=p>>>13,p&=8191,d=(f=d+S*M+E*j+R*N+5*K*O+5*B*k)>>>13,f&=8191,f+=5*D*C,f+=5*q*T,f+=5*W*U,f+=5*I*A,f+=5*L*P,d+=f>>>13,f&=8191,d=(b=d+S*L+E*M+R*j+O*N+5*K*k)>>>13,b&=8191,b+=5*B*C,b+=5*D*T,b+=5*q*U,b+=5*W*A,b+=5*I*P,d+=b>>>13,b&=8191,d=(g=d+S*I+E*L+R*M+O*j+k*N)>>>13,g&=8191,g+=5*K*C,g+=5*B*T,g+=5*D*U,g+=5*q*A,g+=5*W*P,d+=g>>>13,g&=8191,d=(w=d+S*W+E*I+R*L+O*M+k*j)>>>13,w&=8191,w+=C*N,w+=5*K*T,w+=5*B*U,w+=5*D*A,w+=5*q*P,d+=w>>>13,w&=8191,d=(y=d+S*q+E*W+R*I+O*L+k*M)>>>13,y&=8191,y+=C*j,y+=T*N,y+=5*K*U,y+=5*B*A,y+=5*D*P,d+=y>>>13,y&=8191,d=(v=d+S*D+E*q+R*W+O*I+k*L)>>>13,v&=8191,v+=C*M,v+=T*j,v+=U*N,v+=5*K*A,v+=5*B*P,d+=v>>>13,v&=8191,d=(m=d+S*B+E*D+R*q+O*W+k*I)>>>13,m&=8191,m+=C*L,m+=T*M,m+=U*j,m+=A*N,m+=5*K*P,d+=m>>>13,m&=8191,d=(x=d+S*K+E*B+R*D+O*q+k*W)>>>13,x&=8191,x+=C*I,x+=T*L,x+=U*M,x+=A*j,x+=P*N,d+=x>>>13,x&=8191,h=8191&(d=(d=(d<<2)+d|0)+h|0),d>>>=13,p+=d,S=h,E=p,R=f,O=b,k=g,C=w,T=y,U=v,A=m,P=x,t+=16,n-=16;this.h[0]=S,this.h[1]=E,this.h[2]=R,this.h[3]=O,this.h[4]=k,this.h[5]=C,this.h[6]=T,this.h[7]=U,this.h[8]=A,this.h[9]=P},O.prototype.finish=function(e,t){var n,i,r,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,i=(1^n)-1,o=0;o<10;o++)s[o]&=i;for(o=0,i=~i;o<10;o++)this.h[o]=this.h[o]&i|s[o];for(o=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,r=this.h[0]+this.pad[0],this.h[0]=65535&r;o<8;o++)r=(this.h[o]+this.pad[o]|0)+(r>>>16)|0,this.h[o]=65535&r;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},O.prototype.update=function(e,t,n){var i,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];if(n-=r,t+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(e,t,r),t+=r,n-=r),n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=n}};var V=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function Y(e,t,n,i){for(var r,o,s,a,l,c,u,d,h,p,f,b,g,w,y,v,m,x,_,S,E,R,O,k,C,T,U=new Int32Array(16),A=new Int32Array(16),P=e[0],N=e[1],j=e[2],M=e[3],L=e[4],I=e[5],W=e[6],q=e[7],D=t[0],B=t[1],K=t[2],G=t[3],F=t[4],z=t[5],$=t[6],H=t[7],Y=0;i>=128;){for(_=0;_<16;_++)S=8*_+Y,U[_]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],A[_]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(_=0;_<80;_++)if(r=P,o=N,s=j,a=M,l=L,c=I,u=W,d=q,h=D,p=B,f=K,b=G,g=F,w=z,y=$,v=H,E=q,O=65535&(R=H),k=R>>>16,C=65535&E,T=E>>>16,E=(L>>>14|F<<18)^(L>>>18|F<<14)^(F>>>9|L<<23),O+=65535&(R=(F>>>14|L<<18)^(F>>>18|L<<14)^(L>>>9|F<<23)),k+=R>>>16,C+=65535&E,T+=E>>>16,E=L&I^~L&W,O+=65535&(R=F&z^~F&$),k+=R>>>16,C+=65535&E,T+=E>>>16,E=V[2*_],O+=65535&(R=V[2*_+1]),k+=R>>>16,C+=65535&E,T+=E>>>16,E=U[_%16],O+=65535&(R=A[_%16]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,m=65535&C|T<<16,x=65535&O|k<<16,E=m,O=65535&(R=x),k=R>>>16,C=65535&E,T=E>>>16,E=(P>>>28|D<<4)^(D>>>2|P<<30)^(D>>>7|P<<25),O+=65535&(R=(D>>>28|P<<4)^(P>>>2|D<<30)^(P>>>7|D<<25)),k+=R>>>16,C+=65535&E,T+=E>>>16,E=P&N^P&j^N&j,O+=65535&(R=D&B^D&K^B&K),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,d=65535&C|T<<16,v=65535&O|k<<16,E=a,O=65535&(R=b),k=R>>>16,C=65535&E,T=E>>>16,E=m,O+=65535&(R=x),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,a=65535&C|T<<16,b=65535&O|k<<16,N=r,j=o,M=s,L=a,I=l,W=c,q=u,P=d,B=h,K=p,G=f,F=b,z=g,$=w,H=y,D=v,_%16==15)for(S=0;S<16;S++)E=U[S],O=65535&(R=A[S]),k=R>>>16,C=65535&E,T=E>>>16,E=U[(S+9)%16],O+=65535&(R=A[(S+9)%16]),k+=R>>>16,C+=65535&E,T+=E>>>16,E=((m=U[(S+1)%16])>>>1|(x=A[(S+1)%16])<<31)^(m>>>8|x<<24)^m>>>7,O+=65535&(R=(x>>>1|m<<31)^(x>>>8|m<<24)^(x>>>7|m<<25)),k+=R>>>16,C+=65535&E,T+=E>>>16,E=((m=U[(S+14)%16])>>>19|(x=A[(S+14)%16])<<13)^(x>>>29|m<<3)^m>>>6,O+=65535&(R=(x>>>19|m<<13)^(m>>>29|x<<3)^(x>>>6|m<<26)),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,U[S]=65535&C|T<<16,A[S]=65535&O|k<<16;E=P,O=65535&(R=D),k=R>>>16,C=65535&E,T=E>>>16,E=e[0],O+=65535&(R=t[0]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[0]=P=65535&C|T<<16,t[0]=D=65535&O|k<<16,E=N,O=65535&(R=B),k=R>>>16,C=65535&E,T=E>>>16,E=e[1],O+=65535&(R=t[1]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[1]=N=65535&C|T<<16,t[1]=B=65535&O|k<<16,E=j,O=65535&(R=K),k=R>>>16,C=65535&E,T=E>>>16,E=e[2],O+=65535&(R=t[2]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[2]=j=65535&C|T<<16,t[2]=K=65535&O|k<<16,E=M,O=65535&(R=G),k=R>>>16,C=65535&E,T=E>>>16,E=e[3],O+=65535&(R=t[3]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[3]=M=65535&C|T<<16,t[3]=G=65535&O|k<<16,E=L,O=65535&(R=F),k=R>>>16,C=65535&E,T=E>>>16,E=e[4],O+=65535&(R=t[4]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[4]=L=65535&C|T<<16,t[4]=F=65535&O|k<<16,E=I,O=65535&(R=z),k=R>>>16,C=65535&E,T=E>>>16,E=e[5],O+=65535&(R=t[5]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[5]=I=65535&C|T<<16,t[5]=z=65535&O|k<<16,E=W,O=65535&(R=$),k=R>>>16,C=65535&E,T=E>>>16,E=e[6],O+=65535&(R=t[6]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[6]=W=65535&C|T<<16,t[6]=$=65535&O|k<<16,E=q,O=65535&(R=H),k=R>>>16,C=65535&E,T=E>>>16,E=e[7],O+=65535&(R=t[7]),k+=R>>>16,C+=65535&E,T+=E>>>16,k+=O>>>16,C+=k>>>16,T+=C>>>16,e[7]=q=65535&C|T<<16,t[7]=H=65535&O|k<<16,Y+=128,i-=128}return i}function J(e,t,n){var i,r=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(r[0]=0x6a09e667,r[1]=0xbb67ae85,r[2]=0x3c6ef372,r[3]=0xa54ff53a,r[4]=0x510e527f,r[5]=0x9b05688c,r[6]=0x1f83d9ab,r[7]=0x5be0cd19,o[0]=0xf3bcc908,o[1]=0x84caa73b,o[2]=0xfe94f82b,o[3]=0x5f1d36f1,o[4]=0xade682d1,o[5]=0x2b3e6c1f,o[6]=0xfb41bd6b,o[7]=0x137e2179,Y(r,o,t,n),n%=128,i=0;i<n;i++)s[i]=t[a-n+i];for(s[n]=128,s[(n=256-(n<112)*128)-9]=0,b(s,n-8,a/0x20000000|0,a<<3),Y(r,o,s,n),i=0;i<8;i++)b(e,8*i,r[i],o[i]);return 0}function Q(e,t){var n=i(),r=i(),o=i(),s=i(),a=i(),l=i(),c=i(),u=i(),h=i();q(n,e[1],e[0]),q(h,t[1],t[0]),D(n,n,h),W(r,e[0],e[1]),W(h,t[0],t[1]),D(r,r,h),D(o,e[3],t[3]),D(o,o,d),D(s,e[2],t[2]),W(s,s,s),q(a,r,n),q(l,s,o),W(c,s,o),W(u,r,n),D(e[0],a,l),D(e[1],u,c),D(e[2],c,l),D(e[3],a,u)}function X(e,t,n){var i;for(i=0;i<4;i++)N(e[i],t[i],n)}function Z(e,t){var n=i(),r=i(),o=i();K(o,t[2]),D(n,t[0],o),D(r,t[1],o),j(e,r),e[31]^=L(n)<<7}function ee(e,t,n){var i,r;for(A(e[0],a),A(e[1],l),A(e[2],l),A(e[3],a),r=255;r>=0;--r)X(e,t,i=n[r/8|0]>>(7&r)&1),Q(t,e),Q(e,e),X(e,t,i)}function et(e,t){var n=[i(),i(),i(),i()];A(n[0],h),A(n[1],p),A(n[2],l),D(n[3],h,p),ee(e,n,t)}function en(e,t,n){var o,s=new Uint8Array(64),a=[i(),i(),i(),i()];for(n||r(t,32),J(s,t,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),Z(e,a),o=0;o<32;o++)t[o+32]=e[o];return 0}var ei=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function er(e,t){var n,i,r,o;for(i=63;i>=32;--i){for(n=0,r=i-32,o=i-12;r<o;++r)t[r]+=n-16*t[i]*ei[r-(i-32)],n=Math.floor((t[r]+128)/256),t[r]-=256*n;t[r]+=n,t[i]=0}for(r=0,n=0;r<32;r++)t[r]+=n-(t[31]>>4)*ei[r],n=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=n*ei[r];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function eo(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;er(e,n)}function es(e,t,n,r){var o,s,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),d=[i(),i(),i(),i()];for(J(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,o=0;o<n;o++)e[64+o]=t[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(J(c,e.subarray(32),n+32),eo(c),et(d,c),Z(e,d),o=32;o<64;o++)e[o]=r[o];for(J(l,e,n+64),eo(l),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)u[o+s]+=l[o]*a[s];return er(e.subarray(32),u),n+64}function ea(e,t,n,r){var o,s,c,d,h,p,b,g,w=new Uint8Array(32),v=new Uint8Array(64),m=[i(),i(),i(),i()],x=[i(),i(),i(),i()];if(n<64||(o=i(),s=i(),c=i(),d=i(),h=i(),p=i(),b=i(),(A(x[2],l),I(x[1],r),B(c,x[1]),D(d,c,u),q(c,c,x[2]),W(d,x[2],d),B(h,d),B(p,h),D(b,p,h),D(o,b,c),D(o,o,d),G(o,o),D(o,o,c),D(o,o,d),D(o,o,d),D(x[0],o,d),B(s,x[0]),D(s,s,d),M(s,c)&&D(x[0],x[0],f),B(s,x[0]),D(s,s,d),M(s,c))?-1:(L(x[0])===r[31]>>7&&q(x[0],a,x[0]),D(x[3],x[0],x[1]),0)))return -1;for(g=0;g<n;g++)e[g]=t[g];for(g=0;g<32;g++)e[g+32]=r[g];if(J(v,e,n),eo(v),ee(m,x,v),et(x,t.subarray(32)),Q(m,x),Z(w,m),n-=64,y(t,0,w,0)){for(g=0;g<n;g++)e[g]=0;return -1}for(g=0;g<n;g++)e[g]=t[g+64];return n}function el(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function ec(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:R,crypto_stream:E,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:S,crypto_onetimeauth:k,crypto_onetimeauth_verify:C,crypto_verify_16:w,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:U,crypto_scalarmult:F,crypto_scalarmult_base:z,crypto_box_beforenm:H,crypto_box_afternm:T,crypto_box:function(e,t,n,i,r,o){var s=new Uint8Array(32);return H(s,r,o),T(e,t,n,i,s)},crypto_box_open:function(e,t,n,i,r,o){var s=new Uint8Array(32);return H(s,r,o),U(e,t,n,i,s)},crypto_box_keypair:$,crypto_hash:J,crypto_sign:es,crypto_sign_keypair:en,crypto_sign_open:ea,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:i,D:u,L:ei,pack25519:j,unpack25519:I,M:D,A:W,S:B,Z:q,pow2523:G,add:Q,set25519:A,modL:er,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){ec(e,t,n),el(n,t);for(var i=new Uint8Array(32+e.length),r=new Uint8Array(i.length),o=0;o<e.length;o++)i[o+32]=e[o];return T(r,i,i.length,t,n),r.subarray(16)},e.secretbox.open=function(e,t,n){ec(e,t,n),el(n,t);for(var i=new Uint8Array(16+e.length),r=new Uint8Array(i.length),o=0;o<e.length;o++)i[o+16]=e[o];return i.length<32||0!==U(r,i,i.length,t,n)?null:r.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ec(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var n=new Uint8Array(32);return F(n,e,t),n},e.scalarMult.base=function(e){if(ec(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,i,r){var o=e.box.before(i,r);return e.secretbox(t,n,o)},e.box.before=function(e,t){ec(e,t);if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size");var n=new Uint8Array(32);return H(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,i,r){var o=e.box.before(i,r);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ec(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ec(e,t),64!==t.length)throw Error("bad secret key size");var n=new Uint8Array(64+e.length);return es(n,e,e.length,t),n},e.sign.open=function(e,t){if(ec(e,t),32!==t.length)throw Error("bad public key size");var n=new Uint8Array(e.length),i=ea(n,e,e.length,t);if(i<0)return null;for(var r=new Uint8Array(i),o=0;o<r.length;o++)r[o]=n[o];return r},e.sign.detached=function(t,n){for(var i=e.sign(t,n),r=new Uint8Array(64),o=0;o<r.length;o++)r[o]=i[o];return r},e.sign.detached.verify=function(e,t,n){if(ec(e,t,n),64!==t.length)throw Error("bad signature size");if(32!==n.length)throw Error("bad public key size");var i,r=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(i=0;i<64;i++)r[i]=t[i];for(i=0;i<e.length;i++)r[i+64]=e[i];return ea(o,r,r.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return en(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ec(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ec(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),i=0;i<32;i++)n[i]=e[i];return en(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ec(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ec(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,n){var i,r=new Uint8Array(n);for(i=0;i<n;i+=65536)t.getRandomValues(r.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)e[i]=r[i];eu(r)}):(t=n(8308))&&t.randomBytes&&e.setPRNG(function(e,n){var i,r=t.randomBytes(n);for(i=0;i<n;i++)e[i]=r[i];eu(r)})}(e.exports?e.exports:self.nacl=self.nacl||{})},3179:(e,t,n)=>{"use strict";n.d(t,{m_:()=>ek,S5:()=>l,GE:()=>eT,K3:()=>y,iA:()=>O,_0:()=>eu,sQ:()=>ew,$e:()=>ey,NQ:()=>em,Mx:()=>ex,j9:()=>ev,Es:()=>eg,dQ:()=>eO,Gz:()=>eh,m5:()=>ep,aV:()=>eS,TB:()=>eE,VA:()=>eR,BH:()=>ef,fB:()=>F,Vb:()=>G,iw:()=>es,Ee:()=>eo,ip:()=>ea,Sq:()=>eU});var i,r,o,s,a,l,c=n(5242),u=n(727);n(702),!function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(i||(i={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(r||(r={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(o||(o={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(s||(s={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(a||(a={})),function(e){e.MAINNET="-239",e.TESTNET="-3"}(l||(l={}));let d={encode:function(e,t=!1){let n;e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=JSON.stringify(e)),n=c.decodeUTF8(e));var i=n;let r=c.encodeBase64(i);return t?encodeURIComponent(r):r},decode:function(e,t=!1){var n;let i=(n=e,t&&(n=decodeURIComponent(n)),c.decodeBase64(n));return{toString:()=>c.encodeUTF8(i),toObject(){try{return JSON.parse(c.encodeUTF8(i))}catch(e){return null}},toUint8Array:()=>i}}};function h(e){let t="";return e.forEach(e=>{t+=("0"+(255&e).toString(16)).slice(-2)}),t}function p(e){if(e.length%2!=0)throw Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}class f{constructor(e){this.nonceLength=24,this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=h(this.keyPair.publicKey)}createKeypair(){return u.box.keyPair()}createKeypairFromString(e){return{publicKey:p(e.publicKey),secretKey:p(e.secretKey)}}createNonce(){return u.randomBytes(this.nonceLength)}encrypt(e,t){let n=new TextEncoder().encode(e),i=this.createNonce(),r=u.box(n,i,t,this.keyPair.secretKey),o=new Uint8Array(i.length+r.length);return o.set(i),o.set(r,i.length),o}decrypt(e,t){let[n,i]=function(e,t){if(t>=e.length)throw Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]}(e,this.nonceLength),r=u.box.open(i,n,t,this.keyPair.secretKey);if(!r)throw Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${t.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(r)}stringifyKeypair(){return{publicKey:h(this.keyPair.publicKey),secretKey:h(this.keyPair.secretKey)}}}var b=n(702);function g(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function w(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})}class y extends Error{constructor(e,t){super(e,t),this.message=`${y.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${e?"\n"+e:""}`,Object.setPrototypeOf(this,y.prototype)}get info(){return""}}y.prefix="[TON_CONNECT_SDK_ERROR]";class v extends y{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,v.prototype)}}class m extends y{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,m.prototype)}}class x extends y{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,x.prototype)}}class _ extends y{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...e){super(...e),Object.setPrototypeOf(this,_.prototype)}}class S extends y{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,S.prototype)}}class E extends y{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...e){super(...e),Object.setPrototypeOf(this,E.prototype)}}class R extends y{get info(){return"Wallet doesn't support requested feature method."}constructor(...e){super(...e),Object.setPrototypeOf(this,R.prototype)}}class O extends y{get info(){return"Missing required features. You need to update your wallet."}constructor(e,t){super(e,t),Object.setPrototypeOf(this,O.prototype)}}class k extends y{get info(){return"User rejects the action in the wallet."}constructor(...e){super(...e),Object.setPrototypeOf(this,k.prototype)}}class C extends y{get info(){return"Request to the wallet contains errors."}constructor(...e){super(...e),Object.setPrototypeOf(this,C.prototype)}}class T extends y{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,T.prototype)}}class U extends y{get info(){return"An error occurred while fetching the wallets list."}constructor(...e){super(...e),Object.setPrototypeOf(this,U.prototype)}}class A extends y{get info(){return"Passed address is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,A.prototype)}}class P extends y{get info(){return"Passed hex is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,P.prototype)}}class N extends y{constructor(...e){super(...e),Object.setPrototypeOf(this,N.prototype)}}let j={[i.UNKNOWN_ERROR]:N,[i.USER_REJECTS_ERROR]:k,[i.BAD_REQUEST_ERROR]:C,[i.UNKNOWN_APP_ERROR]:T,[i.MANIFEST_NOT_FOUND_ERROR]:x,[i.MANIFEST_CONTENT_ERROR]:m};class M{parseError(e){let t=N;return e.code in j&&(t=j[e.code]||N),new t(e.message)}}let L=new M;class I{isError(e){return"error"in e}}let W={[o.UNKNOWN_ERROR]:N,[o.USER_REJECTS_ERROR]:k,[o.BAD_REQUEST_ERROR]:C,[o.UNKNOWN_APP_ERROR]:T};class q extends I{convertToRpcRequest(e){return{method:"sendTransaction",params:[JSON.stringify(e)]}}parseAndThrowError(e){let t=N;throw e.error.code in W&&(t=W[e.error.code]||N),new t(e.error.message)}convertFromRpcResponse(e){return{boc:e.result}}}let D=new q;class B{constructor(e,t){this.storage=e,this.storeKey="ton-connect-storage_http-bridge-gateway::"+t}storeLastEventId(e){return w(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,e)})}removeLastEventId(){return w(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return w(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);return e||null})}}function K(e,t){return("/"===e.slice(-1)?e.slice(0,-1):e)+"/"+t}function G(e){if(!e)return!1;let t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname}function F(e){return e.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}function z(e,t){return w(this,void 0,void 0,function*(){return new Promise((n,i)=>{var r,o;if(null==(r=null==t?void 0:t.signal)?void 0:r.aborted)return void i(new y("Delay aborted"));let s=setTimeout(()=>n(),e);null==(o=null==t?void 0:t.signal)||o.addEventListener("abort",()=>{clearTimeout(s),i(new y("Delay aborted"))})})})}function $(e){let t=new AbortController;return(null==e?void 0:e.aborted)?t.abort():null==e||e.addEventListener("abort",()=>t.abort(),{once:!0}),t}function H(e,t){var n,i;return w(this,void 0,void 0,function*(){let r,o=null!=(n=null==t?void 0:t.attempts)?n:10,s=null!=(i=null==t?void 0:t.delayMs)?i:200,a=$(null==t?void 0:t.signal);if("function"!=typeof e)throw new y(`Expected a function, got ${typeof e}`);let l=0;for(;l<o;){if(a.signal.aborted)throw new y(`Aborted after attempts ${l}`);try{return yield e({signal:a.signal})}catch(e){r=e,++l<o&&(yield z(s))}}throw r})}function V(...e){try{console.debug("[TON_CONNECT_SDK]",...e)}catch(e){}}function Y(...e){try{console.error("[TON_CONNECT_SDK]",...e)}catch(e){}}class J{constructor(e,t,n,i,r){this.bridgeUrl=t,this.sessionId=n,this.listener=i,this.errorsListener=r,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.defaultReconnectDelay=2e3,this.defaultResendDelay=5e3,this.eventSource=function(e,t){let n=null,i=null,r=null,o=null,s=null,a=(a,...l)=>w(this,void 0,void 0,function*(){if(o=null!=a?a:null,null==s||s.abort(),(s=$(a)).signal.aborted)throw new y("Resource creation was aborted");i=null!=l?l:null;let c=e(s.signal,...l);r=c;let u=yield c;if(r!==c&&u!==n)throw yield t(u),new y("Resource creation was aborted by a new resource creation");return n=u});return{create:a,current:()=>null!=n?n:null,dispose:()=>w(this,void 0,void 0,function*(){try{let e=n;n=null;let i=r;r=null;try{null==s||s.abort()}catch(e){}yield Promise.allSettled([e?t(e):Promise.resolve(),i?t((yield i)):Promise.resolve()])}catch(e){}}),recreate:e=>w(this,void 0,void 0,function*(){let t=n,s=r,l=i,c=o;if(yield z(e),t===n&&s===r&&l===i&&c===o)return yield a(o,...null!=l?l:[]);throw new y("Resource recreation was aborted by a new resource creation")})}}((e,t)=>w(this,void 0,void 0,function*(){let n={bridgeUrl:this.bridgeUrl,ssePath:this.ssePath,sessionId:this.sessionId,bridgeGatewayStorage:this.bridgeGatewayStorage,errorHandler:this.errorsHandler.bind(this),messageHandler:this.messagesHandler.bind(this),signal:e,openingDeadlineMS:t};return yield function(e){return w(this,void 0,void 0,function*(){return yield function(e,t){let n=null==t?void 0:t.timeout,i=$(null==t?void 0:t.signal);return new Promise((t,r)=>w(this,void 0,void 0,function*(){let o;if(i.signal.aborted)return void r(new y("Operation aborted"));void 0!==n&&(o=setTimeout(()=>{i.abort(),r(new y(`Timeout after ${n}ms`))},n)),i.signal.addEventListener("abort",()=>{clearTimeout(o),r(new y("Operation aborted"))},{once:!0});let s={timeout:n,abort:i.signal};yield e((...e)=>{clearTimeout(o),t(...e)},()=>{clearTimeout(o),r()},s)}))}((t,n,i)=>w(this,void 0,void 0,function*(){var r;let o=$(i.signal).signal;if(o.aborted)return void n(new y("Bridge connection aborted"));let s=new URL(K(e.bridgeUrl,e.ssePath));s.searchParams.append("client_id",e.sessionId);let a=yield e.bridgeGatewayStorage.getLastEventId();if(a&&s.searchParams.append("last_event_id",a),o.aborted)return void n(new y("Bridge connection aborted"));let l=new EventSource(s.toString());l.onerror=i=>w(this,void 0,void 0,function*(){if(o.aborted){l.close(),n(new y("Bridge connection aborted"));return}try{let n=yield e.errorHandler(l,i);n!==l&&l.close(),n&&n!==l&&t(n)}catch(e){l.close(),n(e)}}),l.onopen=()=>{if(o.aborted){l.close(),n(new y("Bridge connection aborted"));return}t(l)},l.onmessage=t=>{if(o.aborted){l.close(),n(new y("Bridge connection aborted"));return}e.messageHandler(t)},null==(r=e.signal)||r.addEventListener("abort",()=>{l.close(),n(new y("Bridge connection aborted"))})}),{timeout:e.openingDeadlineMS,signal:e.signal})})}(n)}),e=>w(this,void 0,void 0,function*(){e.close()})),this.bridgeGatewayStorage=new B(e,t)}get isReady(){let e=this.eventSource.current();return(null==e?void 0:e.readyState)===EventSource.OPEN}get isClosed(){let e=this.eventSource.current();return(null==e?void 0:e.readyState)!==EventSource.OPEN}get isConnecting(){let e=this.eventSource.current();return(null==e?void 0:e.readyState)===EventSource.CONNECTING}registerSession(e){return w(this,void 0,void 0,function*(){yield this.eventSource.create(null==e?void 0:e.signal,null==e?void 0:e.openingDeadlineMS)})}send(e,t,n,i){var r;return w(this,void 0,void 0,function*(){let o={};"number"==typeof i?o.ttl=i:(o.ttl=null==i?void 0:i.ttl,o.signal=null==i?void 0:i.signal,o.attempts=null==i?void 0:i.attempts);let s=new URL(K(this.bridgeUrl,this.postPath));s.searchParams.append("client_id",this.sessionId),s.searchParams.append("to",t),s.searchParams.append("ttl",((null==o?void 0:o.ttl)||this.defaultTtl).toString()),s.searchParams.append("topic",n);let a=d.encode(e);yield H(e=>w(this,void 0,void 0,function*(){let t=yield this.post(s,a,e.signal);if(!t.ok)throw new y(`Bridge send failed, status ${t.status}`)}),{attempts:null!=(r=null==o?void 0:o.attempts)?r:Number.MAX_SAFE_INTEGER,delayMs:this.defaultResendDelay,signal:null==o?void 0:o.signal})})}pause(){this.eventSource.dispose().catch(e=>Y(`Bridge pause failed, ${e}`))}unPause(){return w(this,void 0,void 0,function*(){yield this.eventSource.recreate(0)})}close(){return w(this,void 0,void 0,function*(){yield this.eventSource.dispose().catch(e=>Y(`Bridge close failed, ${e}`))})}setListener(e){this.listener=e}setErrorsListener(e){this.errorsListener=e}post(e,t,n){return w(this,void 0,void 0,function*(){let i=yield fetch(e,{method:"post",body:t,signal:n});if(!i.ok)throw new y(`Bridge send failed, status ${i.status}`);return i})}errorsHandler(e,t){return w(this,void 0,void 0,function*(){if(this.isConnecting)throw e.close(),new y("Bridge error, failed to connect");if(this.isReady){try{this.errorsListener(t)}catch(e){}return}if(this.isClosed)return e.close(),V(`Bridge reconnecting, ${this.defaultReconnectDelay}ms delay`),yield this.eventSource.recreate(this.defaultReconnectDelay);throw new y("Bridge error, unknown state")})}messagesHandler(e){return w(this,void 0,void 0,function*(){let t;if(e.data!==this.heartbeatMessage&&(yield this.bridgeGatewayStorage.storeLastEventId(e.lastEventId),!this.isClosed)){try{t=JSON.parse(e.data)}catch(e){throw new y(`Bridge message parse failed, message ${e.data}`)}this.listener(t)}})}}function Q(e){return!("connectEvent"in e)}class X{constructor(e){this.storage=e,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(e){return w(this,void 0,void 0,function*(){if("injected"===e.type)return this.storage.setItem(this.storeKey,JSON.stringify(e));if(!Q(e)){let t={sessionKeyPair:e.session.sessionCrypto.stringifyKeypair(),walletPublicKey:e.session.walletPublicKey,bridgeUrl:e.session.bridgeUrl},n={type:"http",connectEvent:e.connectEvent,session:t,lastWalletEventId:e.lastWalletEventId,nextRpcRequestId:e.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(n))}let t={type:"http",connectionSource:e.connectionSource,sessionCrypto:e.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(t))})}removeConnection(){return w(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return w(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);if(!e)return null;let t=JSON.parse(e);if("injected"===t.type)return t;if("connectEvent"in t){let e=new f(t.session.sessionKeyPair);return{type:"http",connectEvent:t.connectEvent,lastWalletEventId:t.lastWalletEventId,nextRpcRequestId:t.nextRpcRequestId,session:{sessionCrypto:e,bridgeUrl:t.session.bridgeUrl,walletPublicKey:t.session.walletPublicKey}}}return{type:"http",sessionCrypto:new f(t.sessionCrypto),connectionSource:t.connectionSource}})}getHttpConnection(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new y("Trying to read HTTP connection source while nothing is stored");if("injected"===e.type)throw new y("Trying to read HTTP connection source while injected connection is stored");return e})}getHttpPendingConnection(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new y("Trying to read HTTP connection source while nothing is stored");if("injected"===e.type)throw new y("Trying to read HTTP connection source while injected connection is stored");if(!Q(e))throw new y("Trying to read HTTP-pending connection while http connection is stored");return e})}getInjectedConnection(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new y("Trying to read Injected bridge connection source while nothing is stored");if((null==e?void 0:e.type)==="http")throw new y("Trying to read Injected bridge connection source while HTTP connection is stored");return e})}storedConnectionType(){return w(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);return e?JSON.parse(e).type:null})}storeLastWalletEventId(e){return w(this,void 0,void 0,function*(){let t=yield this.getConnection();if(t&&"http"===t.type&&!Q(t))return t.lastWalletEventId=e,this.storeConnection(t)})}getLastWalletEventId(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}increaseNextRpcRequestId(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"nextRpcRequestId"in e){let t=e.nextRpcRequestId||0;return e.nextRpcRequestId=t+1,this.storeConnection(e)}})}getNextRpcRequestId(){return w(this,void 0,void 0,function*(){let e=yield this.getConnection();return e&&"nextRpcRequestId"in e&&e.nextRpcRequestId||0})}}class Z{constructor(e,t){this.storage=e,this.walletConnectionSource=t,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.defaultOpeningDeadlineMS=12e3,this.defaultRetryTimeoutMS=2e3,this.connectionStorage=new X(e)}static fromStorage(e){return w(this,void 0,void 0,function*(){let t=new X(e),n=yield t.getHttpConnection();return Q(n)?new Z(e,n.connectionSource):new Z(e,{bridgeUrl:n.session.bridgeUrl})})}connect(e,t){var n;let i=$(null==t?void 0:t.signal);null==(n=this.abortController)||n.abort(),this.abortController=i,this.closeGateways();let r=new f;this.session={sessionCrypto:r,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:r}).then(()=>w(this,void 0,void 0,function*(){i.signal.aborted||(yield H(e=>{var n;return this.openGateways(r,{openingDeadlineMS:null!=(n=null==t?void 0:t.openingDeadlineMS)?n:this.defaultOpeningDeadlineMS,signal:null==e?void 0:e.signal})},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal}))}));let o="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(o,e)}restoreConnection(e){var t,n;return w(this,void 0,void 0,function*(){let i=$(null==e?void 0:e.signal);if(null==(t=this.abortController)||t.abort(),this.abortController=i,i.signal.aborted)return;this.closeGateways();let r=yield this.connectionStorage.getHttpConnection();if(!r||i.signal.aborted)return;let o=null!=(n=null==e?void 0:e.openingDeadlineMS)?n:this.defaultOpeningDeadlineMS;if(Q(r))return this.session={sessionCrypto:r.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},yield this.openGateways(r.sessionCrypto,{openingDeadlineMS:o,signal:null==i?void 0:i.signal});if(Array.isArray(this.walletConnectionSource))throw new y("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");if(this.session=r.session,this.gateway&&(V("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new J(this.storage,this.walletConnectionSource.bridgeUrl,r.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),!i.signal.aborted){this.listeners.forEach(e=>e(r.connectEvent));try{yield H(e=>this.gateway.registerSession({openingDeadlineMS:o,signal:e.signal}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal})}catch(e){yield this.disconnect({signal:i.signal});return}}})}sendRequest(e,t){let n={};return"function"==typeof t?n.onRequestSent=t:(n.onRequestSent=null==t?void 0:t.onRequestSent,n.signal=null==t?void 0:t.signal,n.attempts=null==t?void 0:t.attempts),new Promise((t,i)=>w(this,void 0,void 0,function*(){var r;if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new y("Trying to send bridge request without session");let o=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),V("Send http-bridge request:",Object.assign(Object.assign({},e),{id:o}));let s=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{id:o})),p(this.session.walletPublicKey));try{yield this.gateway.send(s,this.session.walletPublicKey,e.method,{attempts:null==n?void 0:n.attempts,signal:null==n?void 0:n.signal}),null==(r=null==n?void 0:n.onRequestSent)||r.call(n),this.pendingRequests.set(o.toString(),t)}catch(e){i(e)}}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(e){return w(this,void 0,void 0,function*(){return new Promise(t=>w(this,void 0,void 0,function*(){let n=!1,i=null,r=()=>{n||(n=!0,this.removeBridgeAndSession().then(t))};try{this.closeGateways();let t=$(null==e?void 0:e.signal);i=setTimeout(()=>{t.abort()},this.defaultOpeningDeadlineMS),yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:r,signal:t.signal,attempts:1})}catch(e){V("Disconnect error:",e),n||this.removeBridgeAndSession().then(t)}finally{i&&clearTimeout(i),r()}}))})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(t=>t!==e)}pause(){var e;null==(e=this.gateway)||e.pause(),this.pendingGateways.forEach(e=>e.pause())}unPause(){return w(this,void 0,void 0,function*(){let e=this.pendingGateways.map(e=>e.unPause());this.gateway&&e.push(this.gateway.unPause()),yield Promise.all(e)})}pendingGatewaysListener(e,t,n){return w(this,void 0,void 0,function*(){return this.pendingGateways.includes(e)?(this.closeGateways({except:e}),this.gateway&&(V("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.session.bridgeUrl=t,this.gateway=e,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(n)):void(yield e.close())})}gatewayListener(e){return w(this,void 0,void 0,function*(){let t=JSON.parse(this.session.sessionCrypto.decrypt(d.decode(e.message).toUint8Array(),p(e.from)));if(V("Wallet message received:",t),!("event"in t)){let e=t.id.toString(),n=this.pendingRequests.get(e);return n?(n(t),void this.pendingRequests.delete(e)):void V(`Response id ${e} doesn't match any request's id`)}if(void 0!==t.id){let e=yield this.connectionStorage.getLastWalletEventId();if(void 0!==e&&t.id<=e)return void Y(`Received event id (=${t.id}) must be greater than stored last wallet event id (=${e}) `);"connect"!==t.event&&(yield this.connectionStorage.storeLastWalletEventId(t.id))}let n=this.listeners;"connect"===t.event&&(yield this.updateSession(t,e.from)),"disconnect"===t.event&&(V("Removing bridge and session: received disconnect event"),yield this.removeBridgeAndSession()),n.forEach(e=>e(t))})}gatewayErrorsListener(e){return w(this,void 0,void 0,function*(){throw new y(`Bridge error ${JSON.stringify(e)}`)})}updateSession(e,t){return w(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:t});let n=e.payload.items.find(e=>"ton_addr"===e.name),i=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{items:[n]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:e.id,connectEvent:i,nextRpcRequestId:0})})}removeBridgeAndSession(){return w(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(e,t){return G(e)?this.generateTGUniversalLink(e,t):this.generateRegularUniversalLink(e,t)}generateRegularUniversalLink(e,t){let n=new URL(e);return n.searchParams.append("v","2"),n.searchParams.append("id",this.session.sessionCrypto.sessionId),n.searchParams.append("r",JSON.stringify(t)),n.toString()}generateTGUniversalLink(e,t){let n="tonconnect-"+F(this.generateRegularUniversalLink("about:blank",t).split("?")[1]),i=new URL(this.convertToDirectLink(e));return i.searchParams.append("startapp",n),i.toString()}convertToDirectLink(e){let t=new URL(e);return t.searchParams.has("attach")&&(t.searchParams.delete("attach"),t.pathname+="/start"),t.toString()}openGateways(e,t){return w(this,void 0,void 0,function*(){if(!Array.isArray(this.walletConnectionSource))return this.gateway&&(V("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new J(this.storage,this.walletConnectionSource.bridgeUrl,e.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.gateway.registerSession({openingDeadlineMS:null==t?void 0:t.openingDeadlineMS,signal:null==t?void 0:t.signal});this.pendingGateways.map(e=>e.close().catch()),this.pendingGateways=this.walletConnectionSource.map(t=>{let n=new J(this.storage,t.bridgeUrl,e.sessionId,()=>{},()=>{});return n.setListener(e=>this.pendingGatewaysListener(n,t.bridgeUrl,e)),n}),yield Promise.allSettled(this.pendingGateways.map(e=>H(n=>{var i;return this.pendingGateways.some(t=>t===e)?e.registerSession({openingDeadlineMS:null!=(i=null==t?void 0:t.openingDeadlineMS)?i:this.defaultOpeningDeadlineMS,signal:n.signal}):e.close()},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:null==t?void 0:t.signal})))})}closeGateways(e){var t;null==(t=this.gateway)||t.close(),this.pendingGateways.filter(t=>t!==(null==e?void 0:e.except)).forEach(e=>e.close()),this.pendingGateways=[]}}function ee(e,t){return!!e&&"object"==typeof e&&t.every(t=>t in e)}class et{constructor(){this.storage={}}static getInstance(){return et.instance||(et.instance=new et),et.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var t;return null!=(t=this.storage[e])?t:null}key(e){var t;let n=Object.keys(this.storage);return e<0||e>=n.length?null:null!=(t=n[e])?t:null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}}function en(){if("undefined"!=typeof window)return window}class ei{constructor(e,t){this.injectedWalletKey=t,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];let n=ei.window;if(!ei.isWindowContainsWallet(n,t))throw new E;this.connectionStorage=new X(e),this.injectedWallet=n[t].tonconnect}static fromStorage(e){return w(this,void 0,void 0,function*(){let t=new X(e);return new ei(e,(yield t.getInjectedConnection()).jsBridgeKey)})}static isWalletInjected(e){return ei.isWindowContainsWallet(this.window,e)}static isInsideWalletBrowser(e){return!!ei.isWindowContainsWallet(this.window,e)&&this.window[e].tonconnect.isWalletBrowser}static getCurrentlyInjectedWallets(){return this.window?(function(){let e=en();if(!e)return[];try{return Object.keys(e)}catch(e){return[]}})().filter(([e,t])=>(function(e){try{var t,n,i;if(t="tonconnect",!ee(e,[t])||(n=e.tonconnect,i="walletInfo",!ee(n,[i])))return!1;return ee(e.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch(e){return!1}})(t)).map(([e,t])=>({name:t.tonconnect.walletInfo.name,appName:t.tonconnect.walletInfo.app_name,aboutUrl:t.tonconnect.walletInfo.about_url,imageUrl:t.tonconnect.walletInfo.image,tondns:t.tonconnect.walletInfo.tondns,jsBridgeKey:e,injected:!0,embedded:t.tonconnect.isWalletBrowser,platforms:t.tonconnect.walletInfo.platforms,features:t.tonconnect.walletInfo.features})):[]}static isWindowContainsWallet(e,t){return!!e&&t in e&&"object"==typeof e[t]&&"tonconnect"in e[t]}connect(e){this._connect(2,e)}restoreConnection(){return w(this,void 0,void 0,function*(){try{V("Injected Provider restoring connection...");let e=yield this.injectedWallet.restoreConnection();V("Injected Provider restoring connection response",e),"connect"===e.event?(this.makeSubscriptions(),this.listeners.forEach(t=>t(e))):yield this.connectionStorage.removeConnection()}catch(e){yield this.connectionStorage.removeConnection(),console.error(e)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return w(this,void 0,void 0,function*(){return new Promise(e=>{let t=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(e)};try{this.injectedWallet.disconnect(),t()}catch(e){V(e),this.sendRequest({method:"disconnect",params:[]},t)}})})}closeAllListeners(){var e;this.listenSubscriptions=!1,this.listeners=[],null==(e=this.unsubscribeCallback)||e.call(this)}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(t=>t!==e)}sendRequest(e,t){var n;return w(this,void 0,void 0,function*(){let i={};"function"==typeof t?i.onRequestSent=t:(i.onRequestSent=null==t?void 0:t.onRequestSent,i.signal=null==t?void 0:t.signal);let r=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),V("Send injected-bridge request:",Object.assign(Object.assign({},e),{id:r}));let o=this.injectedWallet.send(Object.assign(Object.assign({},e),{id:r}));return o.then(e=>V("Wallet message received:",e)),null==(n=null==i?void 0:i.onRequestSent)||n.call(i),o})}_connect(e,t){return w(this,void 0,void 0,function*(){try{V(`Injected Provider connect request: protocolVersion: ${e}, message:`,t);let n=yield this.injectedWallet.connect(e,t);V("Injected Provider connect response:",n),"connect"===n.event&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(e=>e(n))}catch(t){V("Injected Provider connect error:",t);let e={event:"connect_error",payload:{code:0,message:null==t?void 0:t.toString()}};this.listeners.forEach(t=>t(e))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(e=>{V("Wallet message received:",e),this.listenSubscriptions&&this.listeners.forEach(t=>t(e)),"disconnect"===e.event&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}ei.window=en();class er{constructor(){this.localStorage=function(){if(function(){try{return"undefined"!=typeof localStorage}catch(e){return!1}}())return localStorage;if(void 0!==b&&null!=b.versions&&null!=b.versions.node)throw new y("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return et.getInstance()}()}getItem(e){return w(this,void 0,void 0,function*(){return this.localStorage.getItem(e)})}removeItem(e){return w(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}setItem(e,t){return w(this,void 0,void 0,function*(){this.localStorage.setItem(e,t)})}}function eo(e){return"jsBridgeKey"in e&&e.injected}function es(e){return eo(e)&&e.embedded}function ea(e){return"bridgeUrl"in e}let el=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://walletbot.me/tonconnect-bridge/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://static.mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"bitgetTonWallet",name:"Bitget Wallet",image:"https://raw.githubusercontent.com/bitgetwallet/download/refs/heads/main/logo/png/bitget_wallet_logo_288_mini.png",about_url:"https://web3.bitget.com",deepLink:"bitkeep://",bridge:[{type:"js",key:"bitgetTonWallet"},{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","chrome"],universal_url:"https://bkcode.vip/ton-connect"},{app_name:"okxMiniWallet",name:"OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/2411/8BE1A4A434D8F58A.png",about_url:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"binanceWeb3TonWallet",name:"Binance Web3 Wallet",image:"https://public.bnbstatic.com/static/binance-w3w/ton-provider/binancew3w.png",about_url:"https://www.binance.com/en/web3wallet",deepLink:"bnc://app.binance.com/cedefi/ton-connect",bridge:[{type:"js",key:"binancew3w"},{type:"sse",url:"https://wallet.binance.com/tonbridge/bridge"}],platforms:["ios","android","macos","windows","linux"],universal_url:"https://app.binance.com/cedefi/ton-connect"},{app_name:"fintopio-tg",name:"Fintopio",image:"https://fintopio.com/tonconnect-icon.png",about_url:"https://fintopio.com",universal_url:"https://t.me/fintopio?attach=wallet",bridge:[{type:"sse",url:"https://wallet-bridge.fintopio.com/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download?appendQuery=true&deeplink=okx://web3/wallet/tonconnect",bridge:[{type:"js",key:"okxTonWallet"},{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]},{app_name:"hot",name:"HOT",image:"https://raw.githubusercontent.com/hot-dao/media/main/logo.png",about_url:"https://hot-labs.org/",universal_url:"https://t.me/herewalletbot?attach=wallet",bridge:[{type:"sse",url:"https://sse-bridge.hot-labs.org"},{type:"js",key:"hotWallet"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"bybitTonWallet",name:"Bybit Wallet",image:"https://raw.githubusercontent.com/bybit-web3/bybit-web3.github.io/main/docs/images/bybit-logo.png",about_url:"https://www.bybit.com/web3",universal_url:"https://app.bybit.com/ton-connect",deepLink:"bybitapp://",bridge:[{type:"js",key:"bybitTonWallet"},{type:"sse",url:"https://api-node.bybit.com/spot/api/web3/bridge/ton/bridge"}],platforms:["ios","android","chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://raw.githubusercontent.com/delab-team/manifests-images/main/WalletAvatar.png",about_url:"https://delabwallet.com",universal_url:"https://t.me/dewallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.dewallet.pro/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"safepalwallet",name:"SafePal",image:"https://s.pvcliping.com/web/public_image/SafePal_x288.png",tondns:"",about_url:"https://www.safepal.com",universal_url:"https://link.safepal.io/ton-connect",deepLink:"safepal-tc://",bridge:[{type:"sse",url:"https://ton-bridge.safepal.com/tonbridge/v1/bridge"},{type:"js",key:"safepalwallet"}],platforms:["ios","android","chrome","firefox"]},{app_name:"GateWallet",name:"GateWallet",image:"https://img.gatedataimg.com/prd-ordinal-imgs/036f07bb8730716e/gateio-0925.png",about_url:"https://www.gate.io/",bridge:[{type:"js",key:"gatetonwallet"},{type:"sse",url:"https://dapp.gateio.services/tonbridge_api/bridge/v1"}],platforms:["ios","android"],universal_url:"https://gateio.go.link/gateio/web3?adj_t=1ff8khdw_1fu4ccc7"},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"BitgetWeb3",name:"BitgetWeb3",image:"https://img.bitgetimg.com/image/third/1731638059795.png",about_url:"​https://www.bitget.com",universal_url:"https://t.me/BitgetOfficialBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","windows","macos","linux"]},{app_name:"tobi",name:"Tobi",image:"https://app.tobiwallet.app/icons/logo-288.png",about_url:"https://tobi.fun",universal_url:"https://t.me/TobiCopilotBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-bridge.tobiwallet.app/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];class ec{constructor(e){var t;this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource=null!=(t=null==e?void 0:e.walletsListSource)?t:"https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",this.cacheTTLMs=null==e?void 0:e.cacheTTLMs}getWallets(){return w(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return w(this,void 0,void 0,function*(){let e=(yield this.getWallets()).filter(es);return 1===e.length?e[0]:null})}fetchWalletsList(){return w(this,void 0,void 0,function*(){let e=[];try{let t=yield fetch(this.walletsListSource);if(e=yield t.json(),!Array.isArray(e))throw new U("Wrong wallets list format, wallets list must be an array.");let n=e.filter(e=>!this.isCorrectWalletConfigDTO(e));n.length&&(Y(`Wallet(s) ${n.map(e=>(null==e?void 0:e.name)||"unknown").join(", ")} config format is wrong. They were removed from the wallets list.`),e=e.filter(e=>this.isCorrectWalletConfigDTO(e)))}catch(t){Y(t),e=el}let t=[];try{t=ei.getCurrentlyInjectedWallets()}catch(e){Y(e)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(e),t)})}walletConfigDTOListToWalletConfigList(e){return e.map(e=>{let t={name:e.name,appName:e.app_name,imageUrl:e.image,aboutUrl:e.about_url,tondns:e.tondns,platforms:e.platforms,features:e.features};return e.bridge.forEach(n=>{if("sse"===n.type&&(t.bridgeUrl=n.url,t.universalLink=e.universal_url,t.deepLink=e.deepLink),"js"===n.type){let e=n.key;t.jsBridgeKey=e,t.injected=ei.isWalletInjected(e),t.embedded=ei.isInsideWalletBrowser(e)}}),t})}mergeWalletsLists(e,t){return[...new Set(e.concat(t).map(e=>e.name)).values()].map(n=>{let i=e.find(e=>e.name===n),r=t.find(e=>e.name===n);return Object.assign(Object.assign({},i&&Object.assign({},i)),r&&Object.assign({},r))})}isCorrectWalletConfigDTO(e){if(!e||"object"!=typeof e)return!1;let t="name"in e,n="app_name"in e,i="image"in e,r="about_url"in e,o="platforms"in e;if(!t||!i||!r||!o||!n||!e.platforms||!Array.isArray(e.platforms)||!e.platforms.length||!("bridge"in e)||!Array.isArray(e.bridge)||!e.bridge.length)return!1;let s=e.bridge;if(s.some(e=>!e||"object"!=typeof e||!("type"in e)))return!1;let a=s.find(e=>"sse"===e.type);if(a&&(!("object"==typeof a&&"url"in a)||!a.url||!e.universal_url))return!1;let l=s.find(e=>"js"===e.type);return!l||"object"==typeof l&&"key"in l&&!!l.key}}function eu(e,t){if("object"!=typeof t)return!0;let{sendTransaction:n}=t;if(n){let t=ed(e,"SendTransaction");if(!t||!function(e,t){let n=void 0===t.minMessages||t.minMessages<=e.maxMessages,i=!t.extraCurrencyRequired||e.extraCurrencySupported;return!!(n&&i)}(t,n))return!1}return!0}function ed(e,t){return e.find(e=>e&&"object"==typeof e&&e.name===t)}function eh(){return{type:"request-version"}}function ep(e){return{type:"response-version",version:e}}function ef(e){return{ton_connect_sdk_lib:e.ton_connect_sdk_lib,ton_connect_ui_lib:e.ton_connect_ui_lib}}function eb(e,t){var n,i,r,o,s,a,l,c;let u=(null==(n=null==t?void 0:t.connectItems)?void 0:n.tonProof)&&"proof"in t.connectItems.tonProof;return{wallet_address:null!=(r=null==(i=null==t?void 0:t.account)?void 0:i.address)?r:null,wallet_type:null!=(o=null==t?void 0:t.device.appName)?o:null,wallet_version:null!=(s=null==t?void 0:t.device.appVersion)?s:null,auth_type:u?"ton_proof":"ton_addr",custom_data:Object.assign({chain_id:null!=(l=null==(a=null==t?void 0:t.account)?void 0:a.chain)?l:null,provider:null!=(c=null==t?void 0:t.provider)?c:null},ef(e))}}function eg(e){return{type:"connection-started",custom_data:ef(e)}}function ew(e,t){return Object.assign({type:"connection-completed",is_success:!0},eb(e,t))}function ey(e,t,n){return{type:"connection-error",is_success:!1,error_message:t,error_code:null!=n?n:null,custom_data:ef(e)}}function ev(e){return{type:"connection-restoring-started",custom_data:ef(e)}}function em(e,t){return Object.assign({type:"connection-restoring-completed",is_success:!0},eb(e,t))}function ex(e,t){return{type:"connection-restoring-error",is_success:!1,error_message:t,custom_data:ef(e)}}function e_(e,t){var n,i,r,o;return{valid_until:null!=(n=String(t.validUntil))?n:null,from:null!=(o=null!=(i=t.from)?i:null==(r=null==e?void 0:e.account)?void 0:r.address)?o:null,messages:t.messages.map(e=>{var t,n;return{address:null!=(t=e.address)?t:null,amount:null!=(n=e.amount)?n:null}})}}function eS(e,t,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},eb(e,t)),e_(t,n))}function eE(e,t,n,i){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:i.boc},eb(e,t)),e_(t,n))}function eR(e,t,n,i,r){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:i,error_code:null!=r?r:null},eb(e,t)),e_(t,n))}function eO(e,t,n){return Object.assign({type:"disconnection",scope:n},eb(e,t))}class ek{constructor(){this.window=en()}dispatchEvent(e,t){var n;return w(this,void 0,void 0,function*(){let i=new CustomEvent(e,{detail:t});null==(n=this.window)||n.dispatchEvent(i)})}addEventListener(e,t,n){var i;return w(this,void 0,void 0,function*(){return null==(i=this.window)||i.addEventListener(e,t,n),()=>{var n;return null==(n=this.window)?void 0:n.removeEventListener(e,t)}})}}class eC{constructor(e){var t;this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=null!=(t=null==e?void 0:e.eventDispatcher)?t:new ek,this.tonConnectSdkVersion=e.tonConnectSdkVersion,this.init().catch()}get version(){return ef({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return w(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch(e){}})}setRequestVersionHandler(){return w(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",()=>w(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",ep(this.tonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return w(this,void 0,void 0,function*(){return new Promise((e,t)=>w(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",t=>{e(t.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",eh())}catch(e){t(e)}}))})}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch(e){}}trackConnectionStarted(...e){try{let t=eg(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionCompleted(...e){try{let t=ew(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionError(...e){try{let t=ey(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringStarted(...e){try{let t=ev(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringCompleted(...e){try{let t=em(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringError(...e){try{let t=ex(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackDisconnection(...e){try{let t=eO(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSentForSignature(...e){try{let t=eS(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigned(...e){try{let t=eE(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigningFailed(...e){try{let t=eR(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}}class eT{constructor(e){if(this.walletsList=new ec,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(null==e?void 0:e.manifestUrl)||function(){var e;let t=null==(e=en())?void 0:e.location.origin;return t?t+"/tonconnect-manifest.json":""}(),storage:(null==e?void 0:e.storage)||new er},this.walletsRequiredFeatures=null==e?void 0:e.walletsRequiredFeatures,this.walletsList=new ec({walletsListSource:null==e?void 0:e.walletsListSource,cacheTTLMs:null==e?void 0:e.walletsListCacheTTLMs}),this.tracker=new eC({eventDispatcher:null==e?void 0:e.eventDispatcher,tonConnectSdkVersion:"3.1.0"}),!this.dappSettings.manifestUrl)throw new v("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new X(this.dappSettings.storage),(null==e?void 0:e.disableAutoPauseConnection)||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return null!==this._wallet}get account(){var e;return(null==(e=this._wallet)?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(e=>e(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(t=>t!==e),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(e=>e!==t))}}connect(e,t){var n,i;let r={};if("object"==typeof t&&"tonProof"in t&&(r.request=t),"object"==typeof t&&("openingDeadlineMS"in t||"signal"in t||"request"in t)&&(r.request=null==t?void 0:t.request,r.openingDeadlineMS=null==t?void 0:t.openingDeadlineMS,r.signal=null==t?void 0:t.signal),this.connected)throw new _;let o=$(null==r?void 0:r.signal);if(null==(n=this.abortController)||n.abort(),this.abortController=o,o.signal.aborted)throw new y("Connection was aborted");return null==(i=this.provider)||i.closeConnection(),this.provider=this.createProvider(e),o.signal.addEventListener("abort",()=>{var e;null==(e=this.provider)||e.closeConnection(),this.provider=null}),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(null==r?void 0:r.request),{openingDeadlineMS:null==r?void 0:r.openingDeadlineMS,signal:o.signal})}restoreConnection(e){var t,n;return w(this,void 0,void 0,function*(){this.tracker.trackConnectionRestoringStarted();let i=$(null==e?void 0:e.signal);if(null==(t=this.abortController)||t.abort(),this.abortController=i,i.signal.aborted)return void this.tracker.trackConnectionRestoringError("Connection restoring was aborted");let[r,o]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);if(i.signal.aborted)return void this.tracker.trackConnectionRestoringError("Connection restoring was aborted");let s=null;try{switch(r){case"http":s=yield Z.fromStorage(this.dappSettings.storage);break;case"injected":s=yield ei.fromStorage(this.dappSettings.storage);break;default:if(!o)return;s=this.createProvider(o)}}catch(e){this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),null==s||s.closeConnection(),s=null;return}if(i.signal.aborted){null==s||s.closeConnection(),this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}if(!s){Y("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}null==(n=this.provider)||n.closeConnection(),this.provider=s,s.listen(this.walletEventsListener.bind(this));let a=()=>{this.tracker.trackConnectionRestoringError("Connection restoring was aborted"),null==s||s.closeConnection(),s=null};return i.signal.addEventListener("abort",a),Promise.race([H(t=>w(this,void 0,void 0,function*(){yield null==s?void 0:s.restoreConnection({openingDeadlineMS:null==e?void 0:e.openingDeadlineMS,signal:t.signal}),i.signal.removeEventListener("abort",a),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:2e3,signal:null==e?void 0:e.signal}),new Promise(e=>setTimeout(()=>e(),12e3))])})}sendTransaction(e,t){return w(this,void 0,void 0,function*(){let n={};"function"==typeof t?n.onRequestSent=t:(n.onRequestSent=null==t?void 0:t.onRequestSent,n.signal=null==t?void 0:t.signal);let i=$(null==n?void 0:n.signal);if(i.signal.aborted)throw new y("Transaction sending was aborted");this.checkConnection();let r=e.messages.length,o=e.messages.some(e=>e.extraCurrency&&Object.keys(e.extraCurrency).length>0);!function(e,t){let n=e.includes("SendTransaction"),i=ed(e,"SendTransaction");if(!n&&!i)throw new R("Wallet doesn't support SendTransaction feature.");if(t.requireExtraCurrencies&&(!i||!i.extraCurrencySupported))throw new R("Wallet is not able to handle such SendTransaction request. Extra currencies support is required.");if(i&&void 0!==i.maxMessages){if(i.maxMessages<t.requiredMessagesNumber)throw new R(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${i.maxMessages}, but ${t.requiredMessagesNumber} is required.`);return}!function(...e){try{console.warn("[TON_CONNECT_SDK]",...e)}catch(e){}}("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}(this.wallet.device.features,{requiredMessagesNumber:r,requireExtraCurrencies:o}),this.tracker.trackTransactionSentForSignature(this.wallet,e);let{validUntil:s,messages:a}=e,l=g(e,["validUntil","messages"]),c=e.from||this.account.address,u=e.network||this.account.chain,d=yield this.provider.sendRequest(D.convertToRpcRequest(Object.assign(Object.assign({},l),{from:c,network:u,valid_until:s,messages:a.map(e=>{var{extraCurrency:t}=e;return Object.assign(Object.assign({},g(e,["extraCurrency"])),{extra_currency:t})})})),{onRequestSent:n.onRequestSent,signal:i.signal});if(D.isError(d))return this.tracker.trackTransactionSigningFailed(this.wallet,e,d.error.message,d.error.code),D.parseAndThrowError(d);let h=D.convertFromRpcResponse(d);return this.tracker.trackTransactionSigned(this.wallet,e,h),h})}disconnect(e){var t;return w(this,void 0,void 0,function*(){if(!this.connected)throw new S;let n=$(null==e?void 0:e.signal),i=this.abortController;if(this.abortController=n,n.signal.aborted)throw new y("Disconnect was aborted");this.onWalletDisconnected("dapp"),yield null==(t=this.provider)?void 0:t.disconnect({signal:n.signal}),null==i||i.abort()})}pauseConnection(){var e;(null==(e=this.provider)?void 0:e.type)==="http"&&this.provider.pause()}unPauseConnection(){var e;return(null==(e=this.provider)?void 0:e.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){let e=function(){if("undefined"!=typeof document)return document}();if(e)try{e.addEventListener("visibilitychange",()=>{e.hidden?this.pauseConnection():this.unPauseConnection().catch()})}catch(e){Y("Cannot subscribe to the document.visibilitychange: ",e)}}createProvider(e){let t;return(t=!Array.isArray(e)&&"jsBridgeKey"in e?new ei(this.dappSettings.storage,e.jsBridgeKey):new Z(this.dappSettings.storage,e)).listen(this.walletEventsListener.bind(this)),t}walletEventsListener(e){switch(e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.tracker.trackConnectionError(e.payload.message,e.payload.code);let t=L.parseError(e.payload);this.onWalletConnectError(t);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){var t;let n=e.items.find(e=>"ton_addr"===e.name),i=e.items.find(e=>"ton_proof"===e.name);if(!n)throw new y("ton_addr connection item was not found");if(!eu(e.device.features,this.walletsRequiredFeatures)){null==(t=this.provider)||t.disconnect(),this.onWalletConnectError(new O("Wallet does not support required features",{cause:{connectEvent:e}}));return}let r={device:e.device,provider:this.provider.type,account:{address:n.address,chain:n.network,walletStateInit:n.walletStateInit,publicKey:n.publicKey}};i&&(r.connectItems={tonProof:i}),this.wallet=r,this.tracker.trackConnectionCompleted(r)}onWalletConnectError(e){if(this.statusChangeErrorSubscriptions.forEach(t=>t(e)),V(e),e instanceof x||e instanceof m)throw Y(e),e}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}checkConnection(){if(!this.connected)throw new S}createConnectRequest(e){let t=[{name:"ton_addr"}];return(null==e?void 0:e.tonProof)&&t.push({name:"ton_proof",payload:e.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:t}}}function eU(e,t=!1){let{wc:n,hex:i}=function(e){if(!e.includes(":"))throw new A(`Wrong address ${e}. Address must include ":".`);let t=e.split(":");if(2!==t.length)throw new A(`Wrong address ${e}. Address must include ":" only once.`);let n=parseInt(t[0]);if(0!==n&&-1!==n)throw new A(`Wrong address ${e}. WC must be eq 0 or -1, but ${n} received.`);let i=t[1];if((null==i?void 0:i.length)!==64)throw new A(`Wrong address ${e}. Hex part must be 64bytes length, but ${null==i?void 0:i.length} received.`);return{wc:n,hex:function(e){let t=(e=e.toLowerCase()).length;if(t%2!=0)throw new P("Hex string must have length a multiple of 2: "+e);let n=t/2,i=new Uint8Array(n);for(let t=0;t<n;t++){let n=2*t,r=e.substring(n,n+2);if(!eA.hasOwnProperty(r))throw new P("Invalid hex character: "+r);i[t]=eA[r]}return i}(i)}}(e),r=81;t&&(r|=128);let o=new Int8Array(34);o[0]=r,o[1]=n,o.set(i,2);let s=new Uint8Array(36);return s.set(o),s.set(function(e){let t=0,n=new Uint8Array(e.length+2);for(let i of(n.set(e),n)){let e=128;for(;e>0;)t<<=1,i&e&&(t+=1),e>>=1,t>65535&&(t&=65535,t^=4129)}return new Uint8Array([Math.floor(t/256),t%256])}(o),34),d.encode(s).replace(/\+/g,"-").replace(/\//g,"_")}eT.walletsList=new ec,eT.isWalletInjected=e=>ei.isWalletInjected(e),eT.isInsideWalletBrowser=e=>ei.isInsideWalletBrowser(e);let eA={};for(let e=0;e<=255;e++){let t=e.toString(16);t.length<2&&(t="0"+t),eA[t]=e}},3651:e=>{"use strict";var t=function(e){var t,i,r;return!!(t=e)&&"object"==typeof t&&(i=e,"[object RegExp]"!==(r=Object.prototype.toString.call(i))&&"[object Date]"!==r&&i.$$typeof!==n)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function r(e,t,n){return e.concat(t).map(function(e){return i(e,n)})}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c,u,d=Array.isArray(n);return d!==Array.isArray(e)?i(n,l):d?l.arrayMerge(e,n,l):(u={},(c=l).isMergeableObject(e)&&o(e).forEach(function(t){u[t]=i(e[t],c)}),o(n).forEach(function(t){s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))||(s(e,t)&&c.isMergeableObject(n[t])?u[t]=(function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a})(t,c)(e[t],n[t],c):u[t]=i(n[t],c))}),u)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,n){return a(e,n,t)},{})},e.exports=a},3895:function(e,t,n){var i;!function(r,o){"use strict";var s="function",a="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",b="version",g="architecture",w="console",y="mobile",v="tablet",m="smarttv",x="wearable",_="embedded",S="Amazon",E="Apple",R="ASUS",O="BlackBerry",k="Browser",C="Chrome",T="Firefox",U="Google",A="Huawei",P="Microsoft",N="Motorola",j="Opera",M="Samsung",L="Sharp",I="Sony",W="Xiaomi",q="Zebra",D="Facebook",B="Chromium OS",K="Mac OS",G=" Browser",F=function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var n,i,r,a,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=i=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(r=0;r<p.length;r++)u=c[++i],typeof(a=p[r])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):o):this[a]=u||o;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if($(t[n][i],e))return"?"===n?o:n}else if($(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,b],[/opios[\/ ]+([\w\.]+)/i],[b,[h,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[b,[h,j+" GX"]],[/\bopr\/([\w\.]+)/i],[b,[h,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[b,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[b,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,b],[/quark(?:pc)?\/([-\w\.]+)/i],[b,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[b,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[h,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[b,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[b,[h,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+k],b],[/\bfocus\/([\w\.]+)/i],[b,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[h,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[h,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[h,"MIUI"+G]],[/fxios\/([\w\.-]+)/i],[b,[h,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[b,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],b],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+G],b],[/samsungbrowser\/([\w\.]+)/i],[b,[h,M+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[b,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,b],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[b,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,D],b],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[h,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,C+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[h,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[b,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],b],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[b,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,M],[p,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,M],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,E],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,E],[p,v]],[/(macintosh);/i],[d,[f,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,L],[p,y]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[f,"Honor"],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,A],[p,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,A],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,W],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,W],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,N],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,N],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,U],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,U],[p,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,I],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,I],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,S],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,S],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,O],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,R],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,R],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[p,v]],[/(itel) ((\w+))/i],[[f,H],d,[p,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[f,"Energizer"],[p,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[f,"Cat"],[p,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[f,"Smartfren"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,v]],[/(surface duo)/i],[d,[f,P],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,v]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,v]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,P],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,q],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,q],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,m]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,M],[p,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,m]],[/(apple) ?tv/i],[f,[d,E+" TV"],[p,m]],[/crkey/i],[[d,C+"cast"],[f,U],[p,m]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,S],[p,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,L],[p,m]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,I],[p,m]],[/(mitv-\w{5}) bui/i],[d,[f,W],[p,m]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,V],[d,V],[p,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,w]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,w]],[/(playstation [345portablevi]+)/i],[d,[f,I],[p,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,P],[p,w]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,M],[p,x]],[/((pebble))app/i],[f,d,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,E],[p,x]],[/droid.+; (glass) \d/i],[d,[f,U],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,q],[p,x]],[/droid.+; (glass) \d/i],[d,[f,U],[p,x]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,d,[p,x]],[/; (quest( \d| pro)?)/i],[d,[f,D],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,_]],[/(aeobc)\b/i],[d,[f,S],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,b],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,b],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[b,J,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,J,Q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,K],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,b],[/\(bb(10);/i],[b,[h,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[h,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,B],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,b],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,b]]},Z=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof r!==a&&r.navigator?r.navigator:o,i=e||(n&&n.userAgent?n.userAgent:""),w=n&&n.userAgentData?n.userAgentData:o,m=t?F(X,t):X,x=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t[h]=o,t[b]=o,Y.call(t,i,m.browser),t[u]=typeof(e=t[b])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,x&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,Y.call(e,i,m.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[p]=o,Y.call(e,i,m.device),x&&!e[p]&&w&&w.mobile&&(e[p]=y),x&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=v),e},this.getEngine=function(){var e={};return e[h]=o,e[b]=o,Y.call(e,i,m.engine),e},this.getOS=function(){var e={};return e[h]=o,e[b]=o,Y.call(e,i,m.os),x&&!e[h]&&w&&w.platform&&"Unknown"!=w.platform&&(e[h]=w.platform.replace(/chrome os/i,B).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>500?V(e,500):e,this},this.setUA(i),this};Z.VERSION="1.0.40",Z.BROWSER=z([h,b,u]),Z.CPU=z([g]),Z.DEVICE=z([d,f,p,w,y,m,v,x,_]),Z.ENGINE=Z.OS=z([h,b]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?o===(i=(function(){return Z}).call(t,n,t,e))||(e.exports=i):typeof r!==a&&(r.UAParser=Z);var ee=typeof r!==a&&(r.jQuery||r.Zepto);if(ee&&!ee.ua){var et=new Z;ee.ua=et.getResult(),ee.ua.get=function(){return et.getUA()},ee.ua.set=function(e){et.setUA(e);var t=et.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},4274:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=o(t,n));return t}(n)))}return e}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=(function(){return r}).apply(t,[]))||(e.exports=n)}()},5242:function(e,t,n){var i=n(8482).Buffer;!function(t,n){"use strict";e.exports?e.exports=n():(t.nacl||(t.nacl={}),t.nacl.util=n())}(this,function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),i=new Uint8Array(n.length);for(t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==i.from?(e.encodeBase64=function(e){return i.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(i.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new i(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new i(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],i=e.length;for(t=0;t<i;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,i=atob(e),r=new Uint8Array(i.length);for(n=0;n<i.length;n++)r[n]=i.charCodeAt(n);return r}),e})}}]);