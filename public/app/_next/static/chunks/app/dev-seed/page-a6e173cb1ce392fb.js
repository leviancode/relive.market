(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{2311:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var i=a(2644),s=a(8760),r=a(967),l=a(701),c=a(1561),n=a(8045);let o=(0,c.Dk)().length?(0,c.Sx)():(0,c.Wp)({apiKey:"AIzaSyClYXQCe7lDX67OWOopDM2JdRMPijYaC5c",authDomain:"relivemarketapp.firebaseapp.com",projectId:"relivemarketapp",storageBucket:"relivemarketapp.firebasestorage.app",messagingSenderId:"481706935428",appId:"1:481706935428:web:832125fea05c499d3b6ed1",measurementId:"G-QWGTBF6XCV"}),d=(0,r.aU)(o),g=(0,l.c7)(o);(0,n.xI)(o);let p=async()=>{let e=(0,r.rJ)(d,"listings");for(let t of(await (0,r.GG)(e)).docs){let e=t.id;await (0,r.kd)((0,r.H9)(d,"listings",e));let a=(0,l.KR)(g,"listings/".concat(e));try{for(let e of(await (0,l._w)(a)).items)await (0,l.XR)(e)}catch(t){console.warn("No images to delete for listing ".concat(e))}}for(let t of[{title:"Motorcycle Helmet",fileName:"helmet.jpg",price:25},{title:"Yoga Mat",fileName:"yoga-mat.jpg",price:10},{title:"Surfboard",fileName:"surfboard.jpg",price:40},{title:"Wooden Nightstand",fileName:"nightstand.jpg",price:15}])try{let a="images/".concat(t.fileName),i=await fetch(a),s=await i.blob(),c=await (0,r.gS)(e,{title:t.title,price:t.price,currency:"USD",condition:"used",location:{lat:-8.4095,lng:115.1889,country:"Indonesia",region:"Bali",city:"Ubud"},category:"Other",tags:["test"],status:"published",createdAt:Date.now(),images:[]}),n=(0,l.KR)(g,"listings/".concat(c.id,"/0.jpg"));await (0,l.D)(n,s);let o=await (0,l.qk)(n);await (0,r.mZ)((0,r.H9)(d,"listings",c.id),{images:[o]}),console.log("✅ Seeded listing: ".concat(t.title))}catch(e){console.error("❌ Failed to seed listing: ".concat(t.title),e)}};function m(){let[e,t]=(0,s.useState)("idle"),[a,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{!async function(){try{t("loading"),await p(),t("success")}catch(e){console.error("Failed to seed database:",e),r(e instanceof Error?e.message:"Unknown error occurred"),t("error")}}()},[]),(0,i.jsxs)("div",{className:"p-6 text-center",children:[(0,i.jsxs)("h1",{className:"text-xl font-bold",children:["loading"===e&&"\uD83D\uDE80 Seeding Firestore...","success"===e&&"✅ Seeding completed!","error"===e&&"❌ Seeding failed!","idle"===e&&"Initializing..."]}),"loading"===e&&(0,i.jsx)("p",{className:"text-gray-500 mt-2",children:"Check your Firebase dev console."}),"success"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-green-500 mt-2",children:"Database has been seeded successfully!"}),(0,i.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"You can now view listings in Firebase console or in your app UI."})]}),"error"===e&&(0,i.jsx)("p",{className:"text-red-500 mt-2",children:a})]})}},6118:(e,t,a)=>{Promise.resolve().then(a.bind(a,2311))}},e=>{var t=t=>e(e.s=t);e.O(0,[916,75,651,409,723,358],()=>t(6118)),_N_E=e.O()}]);